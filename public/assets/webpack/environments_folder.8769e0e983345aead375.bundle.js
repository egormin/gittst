webpackJsonp(["environments_folder"],{"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_actions.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n("../../views/shared/icons/_icon_play.svg"),i=n.n(o),s=n("./environments/event_hub.js"),l=n("./vue_shared/components/loading_icon.vue"),a=n.n(l);t.default={props:{actions:{type:Array,required:!1,default:function(){return[]}}},components:{loadingIcon:a.a},data:function(){return{playIconSvg:i.a,isLoading:!1}},computed:{title:function(){return"Deploy to..."}},methods:{onClickAction:function(t){this.isLoading=!0,e(this.$refs.tooltip).tooltip("destroy"),s.a.$emit("postAction",t)},isActionDisabled:function(e){return void 0!==e.playable&&!e.playable}}}}.call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_external_url.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{externalUrl:{type:String,required:!0}},computed:{title:function(){return"Open"}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_item.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("../../../node_modules/timeago.js/dist/timeago.min.js"),i=n.n(o),s=n("../../../node_modules/underscore/underscore.js"),l=n.n(s),a=n("./vue_shared/components/user_avatar/user_avatar_link.vue"),r=n.n(a),d=(n("./lib/utils/text_utility.js"),n("./environments/components/environment_actions.vue")),m=n.n(d),c=n("./environments/components/environment_external_url.vue"),u=n.n(c),p=n("./environments/components/environment_stop.vue"),v=n.n(p),_=n("./environments/components/environment_rollback.vue"),h=n.n(_),b=n("./environments/components/environment_terminal_button.vue"),f=n.n(b),y=n("./environments/components/environment_monitoring.vue"),g=n.n(y),j=n("./vue_shared/components/commit.js"),x=n("./environments/event_hub.js"),C=new i.a;t.default={components:{userAvatarLink:r.a,"commit-component":j.a,"actions-component":m.a,"external-url-component":u.a,"stop-component":v.a,"rollback-component":h.a,"terminal-button-component":f.a,"monitoring-button-component":g.a},props:{model:{type:Object,required:!0,default:function(){return{}}},canCreateDeployment:{type:Boolean,required:!1,default:!1},canReadEnvironment:{type:Boolean,required:!1,default:!1}},computed:{hasLastDeploymentKey:function(){return!(!this.model||!this.model.last_deployment||l.a.isEmpty(this.model.last_deployment))},hasManualActions:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.manual_actions&&this.model.last_deployment.manual_actions.length>0},hasStopAction:function(){return this.model&&this.model["stop_action?"]},canRetry:function(){return this.model&&this.hasLastDeploymentKey&&this.model.last_deployment&&this.model.last_deployment.deployable},canShowDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&void 0!==this.model.last_deployment.deployable},createdDate:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.created_at?C.format(this.model.last_deployment.deployable.created_at):""},manualActions:function(){return this.hasManualActions?this.model.last_deployment.manual_actions.map(function(e){return{name:gl.text.humanize(e.name),play_path:e.play_path,playable:e.playable}}):[]},userImageAltDescription:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.user&&this.model.last_deployment.user.username?this.model.last_deployment.user.username+"'s avatar'":""},commitTag:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.tag)return this.model.last_deployment.tag},commitRef:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.ref)return this.model.last_deployment.ref},commitUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.commit_path)return this.model.last_deployment.commit.commit_path},commitShortSha:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.short_id)return this.model.last_deployment.commit.short_id},commitTitle:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.title)return this.model.last_deployment.commit.title},commitAuthor:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.commit&&this.model.last_deployment.commit.author)return this.model.last_deployment.commit.author},retryUrl:function(){if(this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.retry_path)return this.model.last_deployment.deployable.retry_path},isLastDeployment:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment["last?"]},buildName:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable?this.model.last_deployment.deployable.name+" #"+this.model.last_deployment.deployable.id:""},deploymentInternalId:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.iid?"#"+this.model.last_deployment.iid:""},deploymentHasUser:function(){return this.model&&!l.a.isEmpty(this.model.last_deployment)&&!l.a.isEmpty(this.model.last_deployment.user)},deploymentUser:function(){return!this.model||l.a.isEmpty(this.model.last_deployment)||l.a.isEmpty(this.model.last_deployment.user)?{}:this.model.last_deployment.user},shouldRenderBuildName:function(){return!this.model.isFolder&&!l.a.isEmpty(this.model.last_deployment)&&!l.a.isEmpty(this.model.last_deployment.deployable)},buildPath:function(){return this.model&&this.model.last_deployment&&this.model.last_deployment.deployable&&this.model.last_deployment.deployable.build_path?this.model.last_deployment.deployable.build_path:""},externalURL:function(){return this.model&&this.model.external_url?this.model.external_url:""},shouldRenderDeploymentID:function(){return!this.model.isFolder&&!l.a.isEmpty(this.model.last_deployment)&&void 0!==this.model.last_deployment.iid},environmentPath:function(){return this.model&&this.model.environment_path?this.model.environment_path:""},monitoringUrl:function(){return this.model&&this.model.metrics_path?this.model.metrics_path:""},displayEnvironmentActions:function(){return this.hasManualActions||this.externalURL||this.monitoringUrl||this.hasStopAction||this.canRetry},folderUrl:function(){return window.location.pathname+"/folders/"+this.model.folderName}},methods:{onClickFolder:function(){x.a.$emit("toggleFolder",this.model,this.folderUrl)}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_monitoring.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{monitoringUrl:{type:String,required:!0}},computed:{title:function(){return"Monitoring"}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_rollback.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./environments/event_hub.js"),i=n("./vue_shared/components/loading_icon.vue"),s=n.n(i);t.default={props:{retryUrl:{type:String,default:""},isLastDeployment:{type:Boolean,default:!0}},components:{loadingIcon:s.a},data:function(){return{isLoading:!1}},methods:{onClick:function(){this.isLoading=!0,o.a.$emit("postAction",this.retryUrl)}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_stop.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o=n("./environments/event_hub.js"),i=n("./vue_shared/components/loading_icon.vue"),s=n.n(i);t.default={props:{stopUrl:{type:String,default:""}},data:function(){return{isLoading:!1}},components:{loadingIcon:s.a},computed:{title:function(){return"Stop"}},methods:{onClick:function(){confirm("Are you sure you want to stop this environment?")&&(this.isLoading=!0,e(this.$el).tooltip("destroy"),o.a.$emit("postAction",this.stopUrl))}}}}.call(t,n("../../../node_modules/jquery/dist/jquery.js"))},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_terminal_button.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("../../views/shared/icons/_icon_terminal.svg"),i=n.n(o);t.default={props:{terminalPath:{type:String,required:!1,default:""}},data:function(){return{terminalIconSvg:i.a}},computed:{title:function(){return"Terminal"}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environments_table.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./environments/components/environment_item.vue"),i=n.n(o),s=n("./vue_shared/components/loading_icon.vue"),l=n.n(s);t.default={components:{"environment-item":i.a,loadingIcon:l.a},props:{environments:{type:Array,required:!0,default:function(){return[]}},canReadEnvironment:{type:Boolean,required:!1,default:!1},canCreateDeployment:{type:Boolean,required:!1,default:!1},isLoadingFolderContent:{type:Boolean,required:!1,default:!1}},methods:{folderUrl:function(e){return window.location.pathname+"/folders/"+e.folderName}}}},"../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/folder/environments_folder_view.vue":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("../../../node_modules/visibilityjs/index.js"),i=n.n(o),s=n("./environments/services/environments_service.js"),l=n("./environments/components/environments_table.vue"),a=n.n(l),r=n("./environments/stores/environments_store.js"),d=n("./vue_shared/components/loading_icon.vue"),m=n.n(d),c=n("./vue_shared/components/table_pagination.vue"),u=n.n(c),p=n("./lib/utils/poll.js"),v=n("./environments/event_hub.js"),_=n("./environments/mixins/environments_mixin.js"),h=n("./lib/utils/common_utils.js");n.n(h);t.default={components:{environmentTable:a.a,tablePagination:u.a,loadingIcon:m.a},mixins:[_.a],data:function(){var e=document.querySelector("#environments-folder-list-view").dataset,t=new r.a,n=window.location.pathname,o=n+".json";return{store:t,folderName:n.substr(n.lastIndexOf("/")+1),endpoint:o,state:t.state,visibility:"available",isLoading:!1,cssContainerClass:e.cssClass,canCreateDeployment:e.canCreateDeployment,canReadEnvironment:e.canReadEnvironment,paginationInformation:{},pageNumber:1}},computed:{scope:function(){return gl.utils.getParameterByName("scope")},canReadEnvironmentParsed:function(){return gl.utils.convertPermissionToBoolean(this.canReadEnvironment)},canCreateDeploymentParsed:function(){return gl.utils.convertPermissionToBoolean(this.canCreateDeployment)},stoppedPath:function(){return window.location.pathname+"?scope=stopped"},availablePath:function(){return window.location.pathname}},created:function(){var e=this,t=gl.utils.getParameterByName("scope")||this.visibility,n=gl.utils.getParameterByName("page")||this.pageNumber;this.service=new s.a(this.endpoint);var o=new p.a({resource:this.service,method:"get",data:{scope:t,page:n},successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:function(t){e.isMakingRequest=t}});i.a.hidden()||(this.isLoading=!0,o.makeRequest()),i.a.change(function(){i.a.hidden()?o.stop():o.restart()}),v.a.$on("postAction",this.postAction)},beforeDestroyed:function(){v.a.$off("postAction")},methods:{changePage:function(e){var t=gl.utils.setParamInURL("page",e);return gl.utils.visitUrl(t),t},fetchEnvironments:function(){var e=gl.utils.getParameterByName("scope")||this.visibility,t=gl.utils.getParameterByName("page")||this.pageNumber;return this.isLoading=!0,this.service.get({scope:e,page:t}).then(this.successCallback).catch(this.errorCallback)},successCallback:function(e){this.saveData(e)},errorCallback:function(){this.isLoading=!1,new Flash("An error occurred while fetching the environments.")},postAction:function(e){var t=this;this.isMakingRequest||(this.isLoading=!0,this.service.postAction(e).then(function(){return t.fetchEnvironments()}).catch(function(){return new Flash("An error occured while making the request.")}))}}}},"../../../node_modules/visibilityjs/index.js":function(e,t,n){e.exports=n("../../../node_modules/visibilityjs/lib/visibility.timers.js")},"../../../node_modules/visibilityjs/lib/visibility.core.js":function(e,t){!function(t){"use strict";var n=-1,o={onVisible:function(e){var t=o.isSupported();if(!t||!o.hidden())return e(),t;var n=o.change(function(t,i){o.hidden()||(o.unbind(n),e())});return n},change:function(e){if(!o.isSupported())return!1;n+=1;var t=n;return o._callbacks[t]=e,o._listen(),t},unbind:function(e){delete o._callbacks[e]},afterPrerendering:function(e){var t=o.isSupported();if(!t||"prerender"!=o.state())return e(),t;var n=o.change(function(t,i){"prerender"!=i&&(o.unbind(n),e())});return n},hidden:function(){return!(!o._doc.hidden&&!o._doc.webkitHidden)},state:function(){return o._doc.visibilityState||o._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!o._doc.visibilityState&&!o._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=o.state();for(var n in o._callbacks)o._callbacks[n].call(o._doc,e,t)},_listen:function(){if(!o._init){var e="visibilitychange";o._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){o._change.apply(o,arguments)};o._doc.addEventListener?o._doc.addEventListener(e,t):o._doc.attachEvent(e,t),o._init=!0}}};void 0!==e&&e.exports?e.exports=o:t.Visibility=o}(this)},"../../../node_modules/visibilityjs/lib/visibility.timers.js":function(e,t,n){!function(t){"use strict";var o=-1,i=function(e){return e.every=function(t,n,i){e._time(),i||(i=n,n=null),o+=1;var s=o;return e._timers[s]={visible:t,hidden:n,callback:i},e._run(s,!1),e.isSupported()&&e._listen(),s},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change(function(){e._stopRun(),e._wasHidden=e.hidden()}))},e._run=function(n,o){var i,s=e._timers[n];if(e.hidden()){if(null===s.hidden)return;i=s.hidden}else i=s.visible;var l=function(){s.last=new Date,s.callback.call(t)};if(o){var a=new Date,r=a-s.last;i>r?s.delay=setTimeout(function(){s.id=setInterval(l,i),l()},i-r):(s.id=setInterval(l,i),l())}else s.id=setInterval(l,i)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),o=e._wasHidden;if(n&&!o||!n&&o)for(var i in e._timers)e._stop(i),e._run(i,!n)},e};void 0!==e&&e.exports?e.exports=i(n("../../../node_modules/visibilityjs/lib/visibility.core.js")):i(t.Visibility)}(window)},"../../../node_modules/vue-loader/lib/component-normalizer.js":function(e,t){e.exports=function(e,t,n,o){var i,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(i=e,s=e.default);var a="function"==typeof s?s.options:s;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),o){var r=Object.create(a.computed||null);Object.keys(o).forEach(function(e){var t=o[e];r[e]=function(){return t}}),a.computed=r}return{esModule:i,exports:s,options:a}}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-1bf21900"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_actions.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{ref:"tooltip",staticClass:"dropdown btn btn-default dropdown-new js-dropdown-play-icon-container has-tooltip",attrs:{type:"button","data-container":"body","data-toggle":"dropdown",title:e.title,"aria-label":e.title,disabled:e.isLoading}},[n("span",[n("span",{domProps:{innerHTML:e._s(e.playIconSvg)}}),e._v(" "),n("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),e._v(" "),e.isLoading?n("loading-icon"):e._e()],1)]),e._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-align-right"},e._l(e.actions,function(t){return n("li",[n("button",{staticClass:"js-manual-action-link no-btn btn",class:{disabled:e.isActionDisabled(t)},attrs:{type:"button",disabled:e.isActionDisabled(t)},on:{click:function(n){e.onClickAction(t.play_path)}}},[n("span",{domProps:{innerHTML:e._s(e.playIconSvg)}}),e._v(" "),n("span",[e._v("\n          "+e._s(t.name)+"\n        ")])])])}))])},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-2d99bb60"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/folder/environments_folder_view.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.cssContainerClass},[e.isLoading?e._e():n("div",{staticClass:"top-area"},[n("h4",{staticClass:"js-folder-name environments-folder-name"},[e._v("\n      Environments / "),n("b",[e._v(e._s(e.folderName))])]),e._v(" "),n("ul",{staticClass:"nav-links"},[n("li",{class:{active:null===e.scope||"available"===e.scope}},[n("a",{staticClass:"js-available-environments-folder-tab",attrs:{href:e.availablePath}},[e._v("\n          Available\n          "),n("span",{staticClass:"badge js-available-environments-count"},[e._v("\n            "+e._s(e.state.availableCounter)+"\n          ")])])]),e._v(" "),n("li",{class:{active:"stopped"===e.scope}},[n("a",{staticClass:"js-stopped-environments-folder-tab",attrs:{href:e.stoppedPath}},[e._v("\n          Stopped\n          "),n("span",{staticClass:"badge js-stopped-environments-count"},[e._v("\n            "+e._s(e.state.stoppedCounter)+"\n          ")])])])])]),e._v(" "),n("div",{staticClass:"environments-container"},[e.isLoading?n("loading-icon",{attrs:{label:"Loading environments",size:"3"}}):e._e(),e._v(" "),!e.isLoading&&e.state.environments.length>0?n("div",{staticClass:"table-holder"},[n("environment-table",{attrs:{environments:e.state.environments,"can-create-deployment":e.canCreateDeploymentParsed,"can-read-environment":e.canReadEnvironmentParsed}}),e._v(" "),e.state.paginationInformation&&e.state.paginationInformation.totalPages>1?n("table-pagination",{attrs:{change:e.changePage,pageInfo:e.state.paginationInformation}}):e._e()],1):e._e()],1)])},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-3b969c50"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_terminal_button.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"btn terminal-button has-tooltip hidden-xs hidden-sm",attrs:{"data-container":"body",title:e.title,"aria-label":e.title,href:e.terminalPath},domProps:{innerHTML:e._s(e.terminalIconSvg)}})},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-48af3da0"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_item.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"js-child-row environment-child-row":e.model.isChildren,"folder-row":e.model.isFolder,"gl-responsive-table-row":!e.model.isFolder},attrs:{role:"row"}},[n("div",{staticClass:"table-section section-10",attrs:{role:"gridcell"}},[e.model.isFolder?e._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v("\n      Environment\n    ")]),e._v(" "),e.model.isFolder?n("span",{staticClass:"folder-name",attrs:{role:"button"},on:{click:e.onClickFolder}},[n("span",{staticClass:"folder-icon"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.model.isOpen,expression:"model.isOpen"}],staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.model.isOpen,expression:"!model.isOpen"}],staticClass:"fa fa-caret-right",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("span",{staticClass:"folder-icon"},[n("i",{staticClass:"fa fa-folder",attrs:{"aria-hidden":"true"}})]),e._v(" "),n("span",[e._v("\n        "+e._s(e.model.folderName)+"\n      ")]),e._v(" "),n("span",{staticClass:"badge"},[e._v("\n        "+e._s(e.model.size)+"\n      ")])]):n("a",{staticClass:"environment-name flex-truncate-parent table-mobile-content",attrs:{href:e.environmentPath}},[n("span",{staticClass:"flex-truncate-child"},[e._v(e._s(e.model.name))])])]),e._v(" "),n("div",{staticClass:"table-section section-10 deployment-column hidden-xs hidden-sm",attrs:{role:"gridcell"}},[e.shouldRenderDeploymentID?n("span",[e._v("\n      "+e._s(e.deploymentInternalId)+"\n    ")]):e._e(),e._v(" "),!e.model.isFolder&&e.deploymentHasUser?n("span",[e._v("\n      by\n      "),n("user-avatar-link",{staticClass:"js-deploy-user-container",attrs:{"link-href":e.deploymentUser.web_url,"img-src":e.deploymentUser.avatar_url,"img-alt":e.userImageAltDescription,"tooltip-text":e.deploymentUser.username}})],1):e._e()]),e._v(" "),n("div",{staticClass:"table-section section-15 hidden-xs hidden-sm",attrs:{role:"gridcell"}},[e.shouldRenderBuildName?n("a",{staticClass:"build-link",attrs:{href:e.buildPath}},[e._v("\n      "+e._s(e.buildName)+"\n    ")]):e._e()]),e._v(" "),n("div",{staticClass:"table-section section-25",attrs:{role:"gridcell"}},[e.model.isFolder?e._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v("\n      Commit\n    ")]),e._v(" "),!e.model.isFolder&&e.hasLastDeploymentKey?n("div",{staticClass:"js-commit-component table-mobile-content"},[n("commit-component",{attrs:{tag:e.commitTag,"commit-ref":e.commitRef,"commit-url":e.commitUrl,"short-sha":e.commitShortSha,title:e.commitTitle,author:e.commitAuthor}})],1):e._e(),e._v(" "),e.model.isFolder||e.hasLastDeploymentKey?e._e():n("div",{staticClass:"commit-title table-mobile-content"},[e._v("\n      No deployments yet\n    ")])]),e._v(" "),n("div",{staticClass:"table-section section-10",attrs:{role:"gridcell"}},[e.model.isFolder?e._e():n("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[e._v("\n      Updated\n    ")]),e._v(" "),!e.model.isFolder&&e.canShowDate?n("span",{staticClass:"environment-created-date-timeago table-mobile-content"},[e._v("\n      "+e._s(e.createdDate)+"\n    ")]):e._e()]),e._v(" "),!e.model.isFolder&&e.displayEnvironmentActions?n("div",{staticClass:"table-section section-30 table-button-footer",attrs:{role:"gridcell"}},[n("div",{staticClass:"btn-group table-action-buttons",attrs:{role:"group"}},[e.hasManualActions&&e.canCreateDeployment?n("actions-component",{attrs:{actions:e.manualActions}}):e._e(),e._v(" "),e.externalURL&&e.canReadEnvironment?n("external-url-component",{attrs:{"external-url":e.externalURL}}):e._e(),e._v(" "),e.monitoringUrl&&e.canReadEnvironment?n("monitoring-button-component",{attrs:{"monitoring-url":e.monitoringUrl}}):e._e(),e._v(" "),e.model&&e.model.terminal_path?n("terminal-button-component",{attrs:{"terminal-path":e.model.terminal_path}}):e._e(),e._v(" "),e.hasStopAction&&e.canCreateDeployment?n("stop-component",{attrs:{"stop-url":e.model.stop_path}}):e._e(),e._v(" "),e.canRetry&&e.canCreateDeployment?n("rollback-component",{attrs:{"is-last-deployment":e.isLastDeployment,"retry-url":e.retryUrl}}):e._e()],1)]):e._e()])},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-4eaaa31e"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_rollback.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn hidden-xs hidden-sm",attrs:{type:"button",disabled:e.isLoading},on:{click:e.onClick}},[e.isLastDeployment?n("span",[e._v("\n    Re-deploy\n  ")]):n("span",[e._v("\n    Rollback\n  ")]),e._v(" "),e.isLoading?n("loading-icon"):e._e()],1)},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-68b5bb0f"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_stop.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn stop-env-link has-tooltip hidden-xs hidden-sm",attrs:{type:"button","data-container":"body",disabled:e.isLoading,title:e.title,"aria-label":e.title},on:{click:e.onClick}},[n("i",{staticClass:"fa fa-stop stop-env-icon",attrs:{"aria-hidden":"true"}}),e._v(" "),e.isLoading?n("loading-icon"):e._e()],1)},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-74299130"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environments_table.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-table",attrs:{role:"grid"}},[e._m(0),e._v(" "),e._l(e.environments,function(t){return[n("environment-item",{tag:"div",attrs:{model:t,"can-create-deployment":e.canCreateDeployment,"can-read-environment":e.canReadEnvironment}}),e._v(" "),t.isFolder&&t.isOpen&&t.children&&t.children.length>0?[e.isLoadingFolderContent?n("div",[n("loading-icon",{attrs:{size:"2"}})],1):[e._l(t.children,function(t){return n("environment-item",{tag:"div",attrs:{model:t,"can-create-deployment":e.canCreateDeployment,"can-read-environment":e.canReadEnvironment}})}),e._v(" "),n("div",[n("div",{staticClass:"text-center prepend-top-10"},[n("a",{staticClass:"btn btn-default",attrs:{href:e.folderUrl(t)}},[e._v("\n              Show all\n            ")])])])]]:e._e()]})],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[n("div",{staticClass:"table-section section-10 environments-name",attrs:{role:"columnheader"}},[e._v("\n      Environment\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-10 environments-deploy",attrs:{role:"columnheader"}},[e._v("\n      Deployment\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-15 environments-build",attrs:{role:"columnheader"}},[e._v("\n      Job\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-25 environments-commit",attrs:{role:"columnheader"}},[e._v("\n      Commit\n    ")]),e._v(" "),n("div",{staticClass:"table-section section-10 environments-date",attrs:{role:"columnheader"}},[e._v("\n      Updated\n    ")])])}]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-ab0a76f0"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_external_url.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn external-url has-tooltip",attrs:{"data-container":"body",target:"_blank",rel:"noopener noreferrer nofollow",title:e.title,"aria-label":e.title,href:e.externalUrl}},[n("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}})])},staticRenderFns:[]}},'../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-bcadced6"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_monitoring.vue':function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"btn monitoring-url has-tooltip hidden-xs hidden-sm",attrs:{"data-container":"body",rel:"noopener noreferrer nofollow",href:e.monitoringUrl,title:e.title,"aria-label":e.title}},[n("i",{staticClass:"fa fa-area-chart",attrs:{"aria-hidden":"true"}})])},staticRenderFns:[]}},"../../views/shared/icons/_icon_commit.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 18" enable-background="new 0 0 36 18"><path d="m34 7h-7.2c-.9-4-4.5-7-8.8-7s-7.9 3-8.8 7h-7.2c-1.1 0-2 .9-2 2 0 1.1.9 2 2 2h7.2c.9 4 4.5 7 8.8 7s7.9-3 8.8-7h7.2c1.1 0 2-.9 2-2 0-1.1-.9-2-2-2m-16 7c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5"/></svg>\n'},"../../views/shared/icons/_icon_play.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" class="icon-play"><path fill-rule="evenodd" d="m9.283 6.47l-7.564 4.254c-.949.534-1.719.266-1.719-.576v-9.292c0-.852.756-1.117 1.719-.576l7.564 4.254c.949.534.963 1.392 0 1.934"/></svg>\n'},"../../views/shared/icons/_icon_terminal.svg":function(e,t){e.exports='<svg width="19" height="14" viewBox="0 0 19 14" xmlns="http://www.w3.org/2000/svg"><rect fill="#848484" x="7.2" y="9.25" width="6.46" height="1.5" rx=".5"/><path d="M5.851 7.016L3.81 9.103a.503.503 0 0 0 .017.709l.35.334c.207.198.524.191.717-.006l2.687-2.748a.493.493 0 0 0 .137-.376.493.493 0 0 0-.137-.376L4.894 3.892a.507.507 0 0 0-.717-.006l-.35.334a.503.503 0 0 0-.017.709L5.85 7.016z"/><path d="M1.25 11.497c0 .691.562 1.253 1.253 1.253h13.994c.694 0 1.253-.56 1.253-1.253V2.503c0-.691-.562-1.253-1.253-1.253H2.503c-.694 0-1.253.56-1.253 1.253v8.994zM2.503 0h13.994A2.504 2.504 0 0 1 19 2.503v8.994A2.501 2.501 0 0 1 16.497 14H2.503A2.504 2.504 0 0 1 0 11.497V2.503A2.501 2.501 0 0 1 2.503 0z"/></svg>\n'},"../images/no_avatar.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAAAAAAdJSU2AAACNElEQVR4AdXYBa7jMBCA4b3/JZahzIkjp2qt+BWUWnG5ln2XxaJJb2b5F2ukL4wvzK/rP7bUcbf92u6oftLSe1ldk8efsfaVeEjusZZeC6e1RllaCk/yG6ag1lZ4WwPX69uyD6tAe/g2ipAlNMRS37awDLaFrpcMWxXQOi0jnWCWjFkSZomYJWDWKmatYNZyEWkJsvQimoZYah5NgdaLxagCtF6GRy0DshZPkeYwS/KIJWGWYjwYUzDLxCwDtJ54OKglimBLqHWahii2g1pmHLLGBmwVoRjcKlmgOdw65H5qKuGWCVi5Qlhs6m1sENZi4q3AWNvca5UYy2RjT/SAsiZey6CsIvc0wVlV5lJ0ibPMyLUGCmlxQq0IM0hLdWyro7CWEc3sXsqaK4O2zLxOsmtpfW5Q1u68ZrVmepaaNXEewawtI9X5Xl3U3n1qND6+rfPzvqoIWz/fklNCSLY153YV53J/XUxGCJnKZ1lajsn3/Ffegf6Y5pV2LUsSNL2UHzxUfh3TlYpZqqTpXZm0KZk9zJcqaEmaWPHDw0pxe05K7bWOLHFLWXVetqpYmrjle4+1y0aBaF4UOQ1NU+lYezJClkjLUnSEjqhH6zjAW4OjtY39Ibq+sawUb6W2RQfoqG0VeKuwrRJvlba17faRdbe2pTtYq6Nty/S7yAbGsQjWIq41wVoT1+IdZNy1djUcVdu5lklQWC0xHkt1X31qNEE1Pr3qKv/9XiSNj6Aaifj3/69+AYujsR/MvkpZAAAAAElFTkSuQmCC"},"./environments/components/environment_actions.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_actions.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-1bf21900"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_actions.vue'),null,null);e.exports=o.exports},"./environments/components/environment_external_url.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_external_url.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-ab0a76f0"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_external_url.vue'),null,null);e.exports=o.exports},"./environments/components/environment_item.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_item.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-48af3da0"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_item.vue'),null,null);e.exports=o.exports},"./environments/components/environment_monitoring.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_monitoring.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-bcadced6"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_monitoring.vue'),null,null);e.exports=o.exports},"./environments/components/environment_rollback.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_rollback.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-4eaaa31e"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_rollback.vue'),null,null);e.exports=o.exports},"./environments/components/environment_stop.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_stop.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-68b5bb0f"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_stop.vue'),null,null);e.exports=o.exports},"./environments/components/environment_terminal_button.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environment_terminal_button.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-3b969c50"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environment_terminal_button.vue'),null,null);e.exports=o.exports},"./environments/components/environments_table.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/components/environments_table.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-74299130"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/components/environments_table.vue'),null,null);e.exports=o.exports},"./environments/event_hub.js":function(e,t,n){"use strict";var o=n("../../../node_modules/vue/dist/vue.esm.js");t.a=new o.default},"./environments/folder/environments_folder_bundle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("../../../node_modules/vue/dist/vue.esm.js"),i=n("./environments/folder/environments_folder_view.vue"),s=n.n(i);document.addEventListener("DOMContentLoaded",function(){return new o.default({el:"#environments-folder-list-view",components:{"environments-folder-app":s.a},render:function(e){return e("environments-folder-app")}})})},"./environments/folder/environments_folder_view.vue":function(e,t,n){var o=n("../../../node_modules/vue-loader/lib/component-normalizer.js")(n("../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./environments/folder/environments_folder_view.vue"),n('../../../node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-2d99bb60"}!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./environments/folder/environments_folder_view.vue'),null,null);e.exports=o.exports},"./environments/mixins/environments_mixin.js":function(e,t,n){"use strict";t.a={methods:{saveData:function(e){var t={headers:e.headers,body:e.json()};this.isLoading=!1,this.store.storeAvailableCount(t.body.available_count),this.store.storeStoppedCount(t.body.stopped_count),this.store.storeEnvironments(t.body.environments),this.store.setPagination(t.headers)}}}},"./environments/services/environments_service.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("../../../node_modules/vue/dist/vue.esm.js"),s=n("../../../node_modules/vue-resource/dist/vue-resource.common.js"),l=n.n(s),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();i.default.use(l.a);var r=function(){function e(t){o(this,e),this.environments=i.default.resource(t),this.folderResults=3}return a(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scope,n=e.page;return this.environments.get({scope:t,page:n})}},{key:"postAction",value:function(e){return i.default.http.post(e,{},{emulateJSON:!0})}},{key:"getFolderContent",value:function(e){return i.default.http.get(e+".json?per_page="+this.folderResults)}}]),e}();t.a=r},"./environments/stores/environments_store.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./lib/utils/common_utils.js"),s=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),l=function(){function e(){return o(this,e),this.state={},this.state.environments=[],this.state.stoppedCounter=0,this.state.availableCounter=0,this.state.paginationInformation={},this}return s(e,[{key:"storeEnvironments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(function(e){var t={};return e.size>1&&(t=Object.assign({},e,{isFolder:!0,folderName:e.name,isOpen:!1,children:[]})),e.latest?(t=Object.assign(t,e,e.latest),delete t.latest):t=Object.assign(t,e),t});return this.state.environments=t,t}},{key:"setPagination",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=gl.utils.normalizeHeaders(e),n=gl.utils.parseIntPagination(t);return this.state.paginationInformation=n,n}},{key:"storeAvailableCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.availableCounter=e,e}},{key:"storeStoppedCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.stoppedCounter=e,e}},{key:"toggleFolder",value:function(e){return this.updateFolder(e,"isOpen",!e.isOpen)}},{key:"setfolderContent",value:function(e,t){var n=t.map(function(e){var t=e;return e.latest?(t=Object.assign({},e,e.latest),delete t.latest):t=e,t.isChildren=!0,t});return this.updateFolder(e,"children",n)}},{key:"updateFolder",value:function(e,t,n){var o=this.state.environments,i=o.map(function(o){var i=Object.assign({},o);return o.isFolder&&o.id===e.id&&(i[t]=n),i});return this.state.environments=i,i}},{key:"getOpenFolders",value:function(){return this.state.environments.filter(function(e){return e.isFolder&&e.isOpen})}}]),e}();t.a=l},"./lib/utils/http_status.js":function(e,t,n){"use strict";t.a={NO_CONTENT:204,OK:200}},"./lib/utils/poll.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("./lib/utils/http_status.js"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=t,this.options.data=t.data||{},this.options.notificationCallback=t.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}return s(e,[{key:"checkConditions",value:function(e){var t=this,n=gl.utils.normalizeHeaders(e.headers),o=parseInt(n[this.intervalHeader],10);o>0&&e.status===i.a.OK&&this.canPoll&&(this.timeoutID=setTimeout(function(){t.makeRequest()},o)),this.options.successCallback(e)}},{key:"makeRequest",value:function(){var e=this,t=this.options,n=t.resource,o=t.method,i=t.data,s=t.errorCallback,l=t.notificationCallback;return l(!0),n[o](i).then(function(t){e.checkConditions(t),l(!1)}).catch(function(e){l(!1),s(e)})}},{key:"stop",value:function(){this.canPoll=!1,clearTimeout(this.timeoutID)}},{key:"restart",value:function(){this.canPoll=!0,this.makeRequest()}}]),e}();t.a=l}},["./environments/folder/environments_folder_bundle.js"]);
//# sourceMappingURL=environments_folder.8769e0e983345aead375.bundle.js.map